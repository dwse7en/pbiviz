# 日期范围切片器（Date Range Slicer）
一个智能、可配置的日期范围筛选组件，适用于多页面应用中对时间维度进行灵活控制与状态保持。
# 📌 功能概述
本组件实现了以下核心逻辑：
- 跨页面状态保留：从其他页面跳转回当前页面时，自动恢复上一次用户设置的日期筛选范围。
- 默认值智能判断：
	- 若未提供“开始/结束日期度量值”，则默认使用数据中的最大/最小日期；
	- 若提供了“开始/结束日期度量值”，则默认以此为初始筛选范围，并在用户拖入该字段时启用动态筛选。
- 动态响应：当“开始/结束日期度量值”发生变化时，切片器会自动更新其显示和筛选范围。
- 优先级策略：页面回跳时，优先保留用户上次手动选择的筛选范围，而非强制重置为度量值定义的范围。
- 操作按钮语义明确：
	- 清除（Clear）：重置为整个数据集的最大/最小日期范围；
	- 重置（Reset）：恢复为“开始/结束日期度量值”定义的范围；若无度量值，则行为等同于“清除”。
	此外，组件支持高度自定义的视觉样式，满足品牌或主题一致性需求。
# ⚙️ 配置选项
## 1. 标头样式
- 文本颜色
- 字体大小与族
- 背景颜色
- 背景透明度（支持 RGBA 或透明度滑块）
## 2. 操作按钮图标
- 重置 与 清除 按钮的图标颜色可独立设置
## 3. 日期输入框样式
- 字体颜色
- 字体大小
- 背景颜色
- 背景透明度
	所有样式均通过可视化面板或 JSON 配置项暴露，无需修改源码即可完成主题适配。
# ✅ 使用场景
- Power BI / Tableau / 自研 BI 系统中的时间维度筛选
- 多页报表中需要保持筛选上下文的场景
- 需要同时支持“业务默认范围”（由度量值驱动）与“用户自由探索”的分析界面
# 🧪 注意事项
- “开始/结束日期度量值”需为有效的日期类型字段，且返回单值（scalar）。
- 组件依赖页面导航状态管理机制（如 sessionStorage、URL 参数或框架路由状态），请确保宿主环境支持状态持久化。
- 若“重置”时无有效度量值，将自动降级为“清除”行为，避免空状态。
# 🛠️ 开发者提示
请确保你的实现逻辑严格遵循以下优先级顺序：
- 用户手动选择 → 2. 页面回跳时保留 → 3. 度量值默认 → 4. 全局最大/最小日期
- 若当前代码未完全匹配上述行为（特别是第5条“回跳优先保留用户筛选”），建议检查状态恢复逻辑是否在组件挂载时先读取用户历史筛选，再考虑度量值。
```
💡 **建议**：在实现中使用 `useEffect`（React）或 `onMounted`（Vue）钩子，结合 `sessionStorage` 或全局状态（如 Redux/Pinia）来持久化用户筛选范围，并在组件初始化时按优先级加载。
```

欢迎贡献与反馈！
© 2026 Weigel
